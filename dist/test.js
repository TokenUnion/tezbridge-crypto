parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r},p.cache={};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"TYUR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bytesConcat=s,exports.bs58checkEncode=i,exports.bs58checkDecode=a,exports.bs58checkPrefixPick=o,exports.getContractHexKey=p,exports.encodeRawBytes=h,exports.decodeRawBytes=l,exports.default=exports.watermark=exports.prefix=void 0;var e=require("bignumber.js"),t=r(require("bs58check")),n=r(require("elliptic"));function r(e){return e&&e.__esModule?e:{default:e}}function s(e,t){const n=new Uint8Array(e.length+t.length);return n.set(e,0),n.set(t,e.length),n}function i(e,n){return t.default.encode(s(n,e))}function a(e,n){return t.default.decode(e).slice(n?n.length:o(e).bytes.length)}const c={block_hash:new Uint8Array([1,52]),operation_hash:new Uint8Array([5,116]),operation_list_hash:new Uint8Array([133,233]),operation_list_list_hash:new Uint8Array([29,159,109]),protocol_hash:new Uint8Array([2,170]),context_hash:new Uint8Array([79,199]),ed25519_public_key_hash:new Uint8Array([6,161,159]),secp256k1_public_key_hash:new Uint8Array([6,161,161]),p256_public_key_hash:new Uint8Array([6,161,164]),cryptobox_public_key_hash:new Uint8Array([153,103]),ed25519_seed:new Uint8Array([13,15,58,7]),ed25519_public_key:new Uint8Array([13,15,37,217]),secp256k1_secret_key:new Uint8Array([17,162,224,201]),p256_secret_key:new Uint8Array([16,81,238,189]),ed25519_encrypted_seed:new Uint8Array([7,90,60,179,41]),secp256k1_encrypted_secret_key:new Uint8Array([9,237,241,174,150]),p256_encrypted_secret_key:new Uint8Array([9,48,57,115,171]),secp256k1_public_key:new Uint8Array([3,254,226,86]),p256_public_key:new Uint8Array([3,178,139,127]),secp256k1_scalar:new Uint8Array([38,248,136]),secp256k1_element:new Uint8Array([5,92,0]),ed25519_secret_key:new Uint8Array([43,246,78,7]),ed25519_signature:new Uint8Array([9,245,205,134,18]),secp256k1_signature:new Uint8Array([13,115,101,19,63]),p256_signature:new Uint8Array([54,240,44,52]),generic_signature:new Uint8Array([4,130,43]),chain_id:new Uint8Array([7,82,0]),contract_hash:new Uint8Array([2,90,121])};function o(e){const t={15:{Net:"chain_id"},30:{id:"cryptobox_public_key_hash"},36:{tz1:"ed25519_public_key_hash",tz2:"secp256k1_public_key_hash",tz3:"p256_public_key_hash",KT1:"contract_hash"},51:{B:"block_hash",o:"operation_hash",P:"protocol_hash"},52:{Lo:"operation_list_hash",Co:"context_hash"},53:{LLo:"operation_list_list_hash",SSp:"secp256k1_scalar"},54:{edsk:"ed25519_seed",edpk:"ed25519_public_key",spsk:"secp256k1_secret_key",p2sk:"p256_secret_key",GSp:"secp256k1_element"},55:{sppk:"secp256k1_public_key",p2pk:"p256_public_key"},88:{edesk:"ed25519_encrypted_seed",spesk:"secp256k1_encrypted_secret_key",p2esk:"p256_encrypted_secret_key"},96:{sig:"generic_signature"},98:{edsk:"ed25519_secret_key",p2sig:"p256_signature"},99:{edsig:"ed25519_signature",spsig1:"secp256k1_signature"}}[e.length];if(t)for(const n in t){const r=n.length;if(e.slice(0,r)===n)return{bytes:c[t[n]],name:t[n]}}throw`No prefix found for: ${e}`}function p(e){if(36!==e.length||"KT1"!==e.slice(0,3))throw`invalid contract: ${e}`;const t=a(e,c.contract_hash),r=n.default.utils.toHex(t);return[[0,2],[2,4],[4,6],[6,8],[8,10],[10,void 0]].map(e=>r.slice(e[0],e[1])).join("/")}exports.prefix=c;const _={block_header:e=>s(new Uint8Array([1]),e),endorsement:e=>s(new Uint8Array([2]),e),operation:()=>new Uint8Array([3]),custom:e=>e};exports.watermark=_;const y={"00":"parameter","01":"storage","02":"code","03":"False","04":"Elt","05":"Left","06":"None","07":"Pair","08":"Right","09":"Some","0A":"True","0B":"Unit","0C":"PACK","0D":"UNPACK","0E":"BLAKE2B","0F":"SHA256",10:"SHA512",11:"ABS",12:"ADD",13:"AMOUNT",14:"AND",15:"BALANCE",16:"CAR",17:"CDR",18:"CHECK_SIGNATURE",19:"COMPARE","1A":"CONCAT","1B":"CONS","1C":"CREATE_ACCOUNT","1D":"CREATE_CONTRACT","1E":"IMPLICIT_ACCOUNT","1F":"DIP",20:"DROP",21:"DUP",22:"EDIV",23:"EMPTY_MAP",24:"EMPTY_SET",25:"EQ",26:"EXEC",27:"FAILWITH",28:"GE",29:"GET","2A":"GT","2B":"HASH_KEY","2C":"IF","2D":"IF_CONS","2E":"IF_LEFT","2F":"IF_NONE",30:"INT",31:"LAMBDA",32:"LE",33:"LEFT",34:"LOOP",35:"LSL",36:"LSR",37:"LT",38:"MAP",39:"MEM","3A":"MUL","3B":"NEG","3C":"NEQ","3D":"NIL","3E":"NONE","3F":"NOT",40:"NOW",41:"OR",42:"PAIR",43:"PUSH",44:"RIGHT",45:"SIZE",46:"SOME",47:"SOURCE",48:"SENDER",49:"SELF","4A":"STEPS_TO_QUOTA","4B":"SUB","4C":"SWAP","4D":"TRANSFER_TOKENS","4E":"SET_DELEGATE","4F":"UNIT",50:"UPDATE",51:"XOR",52:"ITER",53:"LOOP_LEFT",54:"ADDRESS",55:"CONTRACT",56:"ISNAT",57:"CAST",58:"RENAME",59:"bool","5A":"contract","5B":"int","5C":"key","5D":"key_hash","5E":"lambda","5F":"list",60:"map",61:"big_map",62:"nat",63:"option",64:"or",65:"pair",66:"set",67:"signature",68:"string",69:"bytes","6A":"mutez","6B":"timestamp","6C":"unit","6D":"operation","6E":"address","6F":"SLICE"},A={"00":"int","01":"string","02":"seq","03":{name:"prim",len:0,annot:!1},"04":{name:"prim",len:0,annot:!0},"05":{name:"prim",len:1,annot:!1},"06":{name:"prim",len:1,annot:!0},"07":{name:"prim",len:2,annot:!1},"08":{name:"prim",len:2,annot:!0},"09":{name:"prim",len:3,annot:!0},"0A":"bytes"};function h(e){const t=[];if(e instanceof Array);else if(e instanceof Object)if(e.bytes){const n=e.bytes.length/2;t.push("0A"),t.push(n.toString(16).padStart(8,"0")),t.push(e.bytes)}else e.int&&t.push("00");return t.join("")}function l(t){t=t.toUpperCase();let n=0;const r=e=>t.slice(n,n+e),s=()=>{const t=r(2),i=A[t];if(i instanceof Object){n+=2;const e=y[r(2)];return n+=2,{prim:e,args:Array.apply(null,new Array(i.len)).map(()=>s())}}if("0A"===t){n+=2;const e=r(8);n+=8;const t=2*parseInt(e,16),s=r(t);return n+=t,{bytes:s}}if("01"===t){n+=2;const e=r(8);n+=8;const t=2*parseInt(e,16),s=r(t);n+=t;const i=s.match(/[\dA-F]{2}/g);if(i instanceof Array){const e=new Uint8Array(i.map(e=>parseInt(e,16)));return{string:new TextDecoder("utf-8").decode(e)}}throw"Input bytes error"}if("00"===t){n+=2;const t=parseInt(r(2),16).toString(2).padStart(8,"0");n+=2;t[1];const s=[t.slice(2)];let i="1"===t[0];for(;i;){const e=parseInt(r(2),16).toString(2).padStart(8,"0");n+=2,s.push(e.slice(1)),i="1"===e[0]}return{int:new e.BigNumber(s.reverse().join(""),2).toString()}}if("02"===t){n+=2;const e=r(8);n+=8;const t=2*parseInt(e,16),i=(r(t),n+t),a=[];for(;i>n;)a.push(s());return a}throw"Invalid raw bytes"};return s()}var u={prefix:c,watermark:_,bs58checkEncode:i,bs58checkDecode:a,bs58checkPrefixPick:o,getContractHexKey:p,bytesConcat:s,decodeRawBytes:l};exports.default=u;
},{}],"T9NQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.blake2bHash=d,exports.getMnemonic=u,exports.decryptKey=p,exports.getKeyFromSeed=f,exports.getKeyFromWords=y,exports.signOperation=l,exports.default=void 0;var e=a(require("bip39")),t=a(require("./codec")),r=a(require("elliptic")),c=a(require("blakejs")),n=a(require("crypto")),s=i(require("tweetnacl"));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var c=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};c.get||c.set?Object.defineProperty(t,r,c):t[r]=e[r]}return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function d(e,t=32){return c.default.blake2b(e,null,t)}function u(t){return e.default.generateMnemonic(t)}class o{constructor(e,r,c){this.name=e,this.secret_key=r,this.pub_key=c,this.address={ed25519:()=>t.default.bs58checkEncode(d(this.pub_key,20),t.default.prefix.ed25519_public_key_hash),secp256k1:()=>t.default.bs58checkEncode(d(this.pub_key,20),t.default.prefix.secp256k1_public_key_hash),p256:()=>t.default.bs58checkEncode(d(this.pub_key,20),t.default.prefix.p256_public_key_hash)}[this.name]()}getSecretKey(){return{ed25519:()=>t.default.bs58checkEncode(this.secret_key,t.default.prefix.ed25519_secret_key),secp256k1:()=>t.default.bs58checkEncode(this.secret_key,t.default.prefix.secp256k1_secret_key),p256:()=>t.default.bs58checkEncode(this.secret_key,t.default.prefix.p256_secret_key)}[this.name]()}getPublicKey(){return{ed25519:()=>t.default.bs58checkEncode(this.pub_key,t.default.prefix.ed25519_public_key),secp256k1:()=>t.default.bs58checkEncode(this.pub_key,t.default.prefix.secp256k1_public_key),p256:()=>t.default.bs58checkEncode(this.pub_key,t.default.prefix.p256_public_key)}[this.name]()}}function p(e,c){const i=t.default.bs58checkPrefixPick(e),a=t.default.bs58checkDecode(e,i.bytes),d=a.slice(0,8),u=a.slice(8),p=n.default.pbkdf2Sync(c,d,32768,32,"sha512"),f=s.secretbox.open(u,new Uint8Array(24),p),y={ed25519_encrypted_seed:e=>{new r.default.eddsa("ed25519");const t=s.default.sign.keyPair.fromSeed(e);return new o("ed25519",t.secretKey,t.publicKey)},secp256k1_encrypted_secret_key:e=>{const t=new r.default.ec("secp256k1").keyFromPrivate(e),c=new Uint8Array([2].concat(t.getPublic().getX().toArray()));return new o("secp256k1",e,c)},p256_encrypted_secret_key:e=>{const t=new r.default.ec("p256").keyFromPrivate(e),c=new Uint8Array([3].concat(t.getPublic().getX().toArray()));return new o("p256",e,c)}};if(i.name in y)return y[i.name](f);throw"No valid prefix for encrypted key found"}function f(e){const r="string"==typeof e?t.default.bs58checkDecode(e):e,c=s.default.sign.keyPair.fromSeed(r);return new o("ed25519",c.secretKey,c.publicKey)}function y(t,r){const c=t instanceof Array?t.join(" "):t;return f(e.default.mnemonicToSeed(c,r).slice(0,32))}function l(e,c){const n=d(t.default.bytesConcat(t.default.watermark.operation(),e)),s=t.default.bs58checkPrefixPick(c),i={ed25519_secret_key:t.default.prefix.ed25519_signature,secp256k1_secret_key:t.default.prefix.secp256k1_signature,p256_secret_key:t.default.prefix.p256_signature},a=t.default.bs58checkDecode(c,s.bytes);if(s.name in i){const e={ed25519_secret_key:()=>new r.default.eddsa("ed25519").keyFromSecret(a),secp256k1_secret_key:()=>new r.default.ec("secp256k1").keyFromPrivate(a),p256_secret_key:()=>new r.default.ec("p256").keyFromPrivate(a)}[s.name](),c="ed25519_secret_key"===s.name?new Uint8Array(e.sign(n).toBytes()):(e=>new Uint8Array(e.r.toArray().concat(e.s.toArray())))(e.sign(n));return t.default.bs58checkEncode(c,i[s.name])}throw`invalid prefix for: ${c}`}var k={getMnemonic:u,getKeyFromSeed:f,getKeyFromWords:y,decryptKey:p,signOperation:l};exports.default=k;
},{"./codec":"TYUR"}],"2u/B":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./codec")),r=t(require("./crypto"));function t(e){return e&&e.__esModule?e:{default:e}}var u={codec:e.default,crypto:r.default};exports.default=u;
},{"./codec":"TYUR","./crypto":"T9NQ"}],"Y/Oq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.assert=void 0;var e=s(require("assert"));function s(e){return e&&e.__esModule?e:{default:e}}const t=(s,t)=>{e.default.ok(s,t),console.log("[32m%s[0m","PASS @",t)};exports.assert=t;
},{}],"Focm":[function(require,module,exports) {
"use strict";var e=s(require("./../src/index")),t=require("./util");function s(e){return e&&e.__esModule?e:{default:e}}const c=e.default,n=async()=>{{const e=c.codec.decodeRawBytes("07070a0000001601b2a4f12006b191111b11faa0a126bcddded861de0007070a000000160000f9a61eefd5d12786e70433b1edc846ac9eb5fcd60707030a0707009503070700a3db97010000"),s='{"prim":"Pair","args":[{"bytes":"01B2A4F12006B191111B11FAA0A126BCDDDED861DE00"},{"prim":"Pair","args":[{"bytes":"0000F9A61EEFD5D12786E70433B1EDC846AC9EB5FCD6"},{"prim":"Pair","args":[{"prim":"True","args":[]},{"prim":"Pair","args":[{"int":"213"},{"prim":"Pair","args":[{"int":"1242851"},{"int":"0"}]}]}]}]}]}';(0,t.assert)(JSON.stringify(e)===s,"FN: decodeRawBytes")}{const e=new Uint8Array([]),s=new Uint8Array([1]),n=new Uint8Array([2,255]);{const s=c.codec.bytesConcat(e,e);(0,t.assert)(0===s.length,"FN: bytesConcat empty with empty")}{const n=c.codec.bytesConcat(e,s);(0,t.assert)(1===n.length&&1===n[0],"FN: bytesConcat empty with non-empty")}{const e=c.codec.bytesConcat(s,n);(0,t.assert)(3===e.length&&1===e[0]&&2===e[1]&&255===e[2],"FN: bytesConcat non-empty with non-empty")}}{const e="tz1TUswtLE1cTBgoBC2JAtQ5Jsz2crp1tZvJ",s=c.codec.prefix.ed25519_public_key_hash,n=c.codec.bs58checkDecode(e,s),r=c.codec.bs58checkDecode(e);(0,t.assert)(20===n.length&&n.toString()===r.toString(),"FN: bs58checkDecode");const a=c.codec.bs58checkEncode(n,s);(0,t.assert)(a===e,"FN: bs58checkEncode")}{const e=c.crypto.getMnemonic(128);(0,t.assert)(12===e.split(" ").length,"FN: getMnemonic 128");const s=c.crypto.getMnemonic(192);(0,t.assert)(18===s.split(" ").length,"FN: getMnemonic 192");const n=c.crypto.getMnemonic(256);(0,t.assert)(24===n.split(" ").length,"FN: getMnemonic 256");const r=c.crypto.getKeyFromWords(n,"abcdefg").getSecretKey();(0,t.assert)("edsk"===r.slice(0,4)&&98===r.length,"FN: getKeyFromWords")}{const e=c.codec.getContractHexKey("KT1UynVe2zgSht3QHFUDpWkKvonFrcE1PZ8q");(0,t.assert)("df/bc/db/b1/14/77863511f6ada9978be77b690be14a"===e,"FN: getContractHexKey")}{const e=c.crypto.signOperation(new Uint8Array([1,2,3,4,5,6]),"edskS68LAmi2nQHCEzvMs9CAJaCpWWtkFTavc2DBnxLaNvFerXBgjggKNu9QFPTyT5BuE1ttNbkHj7c3Q4AuPtjaFzfyj4t9un"),s=c.crypto.signOperation(new Uint8Array([1,2,3,4,5,6]),"spsk2nG1XBRvSJmh6BiwcBxox5DpMn4NcRzJakgACsrydqXRhXfBej"),n=c.crypto.signOperation(new Uint8Array([1,2,3,4,5,6]),"p2sk2ucp48wneFz9rwDvd4vsoqxNWHe5QTKcfnJ1JAyVJ3y77PgPSr"),r=c.codec.bs58checkPrefixPick(e),a=c.codec.bs58checkPrefixPick(s),o=c.codec.bs58checkPrefixPick(n);(0,t.assert)(99===e.length&&"ed25519_signature"===r.name,"FN: signOperation edsig"),(0,t.assert)(99===s.length&&"secp256k1_signature"===a.name,"FN: signOperation spsig1"),(0,t.assert)(98===n.length&&"p256_signature"===o.name,"FN: signOperation p2sig")}{const e=c.crypto.decryptKey("edesk1TgH1sGSQ2rwM1Sk475ikTLqeYrSH2a6tvUuZdzkox8C91n55pVGo7QpxbFhT1KAe3zpPFWPvrusrBY9fnc","a"),s=c.crypto.decryptKey("spesk29FVwwKJ4FXpJtGKraxS4QcDeaoBL1JPsnqnofUSAf9yFioRbfRq5eJEoXpcUBPKnFjj8WEfj7cQjZkRxAs","a"),n=c.crypto.decryptKey("p2esk1qLhMDUemxyMkfjAjmKw5QQSp7FhGadvBgthrehjWwJSofUtcd56HpEv8GqutoA3hC8wMAqeU2sX5p4XHjX","a");(0,t.assert)("tz1hgWvYdzLECdrq5zndGHwCGnUCJq1KFe3r"===e.address&&"edpkunm1aRnRtHwVsBGSFgKmw5EhBn4gR6NC5JqVoAi57viSgAN3t5"===e.getPublicKey(),"FN: decryptKey edesk"),(0,t.assert)("tz2L2HuhaaSnf6ShEDdhTEAr5jGPWPNwpvcB"===s.address&&"sppk7aLxNrEXqt52YTEXmVwKQSu2phVrjnSQmF7V31xSAFXEq9PSETE"===s.getPublicKey(),"FN: decryptKey spesk"),(0,t.assert)("tz3Vrs3r11Tu9fZvu4mHFcuNt9FK9QuCw83X"===n.address&&"p2pk67SFY4XDMaACBrbJfvhmfLVx3wNfNt4inWHRsCdZc13b7CASxbm"===n.getPublicKey(),"FN: decryptKey p2esk")}},r=async()=>{await n()};r();
},{"./../src/index":"2u/B","./util":"Y/Oq"}]},{},["Focm"], null)
//# sourceMappingURL=/test.map